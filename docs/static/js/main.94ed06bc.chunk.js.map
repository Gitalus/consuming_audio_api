{"version":3,"sources":["hooks/useFetch.js","Reproducer.js","helper.js","index.js"],"names":["Reproducer","useState","current","setCurrent","playing","setPlaying","songs","state","setState","useEffect","fetch","then","response","json","data","useFetch","audio","useRef","src","url","selectPlay","idx","play","nextSong","length","prevSong","togglePlayPause","pause","handleMusic","className","map","song","currentTime","onClick","name","ref","hidden","onEnded","ReactDOM","render","document","getElementById"],"mappings":"mKAIO,I,OCAMA,EAAa,WACtB,MAA8BC,mBAAS,GAAvC,mBAAOC,EAAP,KAAgBC,EAAhB,KACA,EAA8BF,oBAAS,GAAvC,mBAAOG,EAAP,KAAgBC,EAAhB,KACMC,EDHc,WAEpB,MAA0BL,mBAAS,MAAnC,mBAAOM,EAAP,KAAcC,EAAd,KAaA,OAXAC,qBAAU,WAENC,MAAM,gDACDC,MAAM,SAAAC,GACH,OAAOA,EAASC,UAEnBF,MAAM,SAAAG,GACHN,EAASM,QAElB,IAEIP,ECZOQ,GAERC,EAAQC,mBAEdR,qBAAU,WACFH,IACAU,EAAMd,QAAQgB,IAAd,iDAA8DZ,EAAMJ,GAASiB,QAElF,CAACb,IAEJ,MCfG,YAAkF,IAA3DA,EAA0D,EAA1DA,MAAOJ,EAAmD,EAAnDA,QAASC,EAA0C,EAA1CA,WAAYC,EAA8B,EAA9BA,QAASC,EAAqB,EAArBA,WAAYW,EAAS,EAATA,MA+C3E,MAAO,CAAEI,WA7CT,SAAoBC,GACZnB,IAAYmB,GAAOjB,IAGvBY,EAAMd,QAAQgB,IAAd,iDAA8DZ,EAAMe,GAAKF,KACzEH,EAAMd,QAAQoB,OACdnB,EAAWkB,GACXhB,GAAW,KAsCMkB,SAnCrB,WACQrB,IAAYI,EAAMkB,OAAS,GAC3BR,EAAMd,QAAQgB,IAAd,iDAA8DZ,EAAM,GAAGa,KACvEH,EAAMd,QAAQoB,OACdjB,GAAW,GACXF,EAAW,KAEXa,EAAMd,QAAQgB,IAAd,iDAA8DZ,EAAMJ,EAAU,GAAGiB,KACjFH,EAAMd,QAAQoB,OACdjB,GAAW,GACXF,EAAWD,EAAU,KAyBEuB,SArB/B,WACoB,IAAZvB,GACAc,EAAMd,QAAQgB,IAAd,iDAA8DZ,EAAMA,EAAMkB,OAAS,GAAGL,KACtFH,EAAMd,QAAQoB,OACdjB,GAAW,GACXF,EAAWG,EAAMkB,OAAS,KAE1BR,EAAMd,QAAQgB,IAAd,iDAA8DZ,EAAMJ,EAAU,GAAGiB,KACjFH,EAAMd,QAAQoB,OACdjB,GAAW,GACXF,EAAWD,EAAU,KAWYwB,gBAPzC,WACkB,OAAVpB,IACAD,GAAYD,GACZA,EAAUY,EAAMd,QAAQyB,QAAUX,EAAMd,QAAQoB,UD5BIM,CAAY,CAAEtB,QAAOJ,UAASC,aAAYC,UAASC,aAAYW,UAAnHI,EAAR,EAAQA,WAAYG,EAApB,EAAoBA,SAAUE,EAA9B,EAA8BA,SAAUC,EAAxC,EAAwCA,gBAExC,OACI,sBAAKG,UAAU,YAAf,UACI,qBAAKA,UAAU,2BAAf,WAEUvB,GACFA,EAAMwB,KAAK,SAAEC,EAAMV,GAAU,IAAD,EACxB,OAAO,sBAAeQ,UAAW,SAAWzB,GAAWF,IAAYmB,EAAM,UAAY,KAAsC,IAA9B,UAAAL,EAAMd,eAAN,eAAe8B,cAAoB9B,IAAYmB,GAAQjB,EAAsB,GAAZ,WAAiB6B,QAAU,kBAAMb,EAAWC,IAAnM,UACK,sBAAMQ,UAAU,QAAhB,SAAyBR,EAAM,IAAWU,EAAKG,OAD1Cb,QAM7B,mCACI,mBAAGQ,UAAU,gCAAgCI,QAAU,kBAAMR,OAEzDrB,EACC,mBAAGyB,UAAU,mCAAmCI,QAAU,kBAAMP,OAC9D,mBAAGG,UAAU,kCAAkCI,QAAU,kBAAMP,OAEtE,mBAAGG,UAAU,+BAA+BI,QAAU,kBAAMV,OAC5D,uBAAOY,IAAMnB,EAAQoB,QAAM,EAACC,QAAS,kBAAMd,cElC3De,IAASC,OACL,cAAC,EAAD,IACEC,SAASC,eAAe,U","file":"static/js/main.94ed06bc.chunk.js","sourcesContent":["import { useEffect, useState } from \"react\";\r\n\r\n\r\n\r\nexport const useFetch = () => {\r\n\r\n    const [state, setState] = useState(null);\r\n\r\n    useEffect(() => {\r\n\r\n        fetch(`https://assets.breatheco.de/apis/sound/songs`)\r\n            .then( response =>{\r\n                return response.json();\r\n            })\r\n            .then( data => {\r\n                setState(data);\r\n            })\r\n    }, [])\r\n\r\n    return state;\r\n}\r\n","import React, { useState, useRef, useEffect } from 'react';\r\nimport { handleMusic } from './helper';\r\nimport { useFetch } from './hooks/useFetch';\r\n\r\nexport const Reproducer = () => {\r\n    const [current, setCurrent] = useState(0);\r\n    const [playing, setPlaying] = useState(false);\r\n    const songs = useFetch();\r\n    \r\n    const audio = useRef();\r\n\r\n    useEffect(() => {\r\n        if (songs) {\r\n            audio.current.src = `https://assets.breatheco.de/apis/sound/${songs[current].url}`;\r\n        }\r\n    }, [songs])\r\n\r\n    const { selectPlay, nextSong, prevSong, togglePlayPause } = handleMusic({ songs, current, setCurrent, playing, setPlaying, audio });\r\n\r\n    return (\r\n        <div className=\"container\">\r\n            <div className=\"list-songs custom-scroll\">\r\n                {\r\n                    !!songs &&\r\n                    songs.map( ( song, idx ) => {\r\n                        return <div key={idx} className={\"songs\" + (playing && current === idx ? \" active\" : \"\") + ( audio.current?.currentTime != 0 && current === idx && !playing ? \" paused\" : \"\")} onClick={ () => selectPlay(idx)}>\r\n                                    <span className=\"nSong\">{idx + 1}</span>{ song.name }\r\n                                </div>\r\n                    })\r\n                }\r\n            </div>\r\n            <footer>\r\n                <i className=\"fas fa-step-backward controls\" onClick={ () => prevSong() }></i>\r\n                {\r\n                    playing ? \r\n                    (<i className=\"fas fa-pause-circle play-control\" onClick={ () => togglePlayPause() }></i>\r\n                    ):(<i className=\"fas fa-play-circle play-control\" onClick={ () => togglePlayPause() }></i>)\r\n                }\r\n                <i className=\"fas fa-step-forward controls\" onClick={ () => nextSong() }></i>\r\n                <audio ref={ audio } hidden onEnded={() => nextSong() }></audio>\r\n            </footer>\r\n        </div>\r\n    )\r\n}\r\n","\r\n\r\nexport function handleMusic({ songs, current, setCurrent, playing, setPlaying, audio }) {\r\n\r\n    function selectPlay(idx) {\r\n        if (current === idx && playing) {\r\n            return;\r\n        }\r\n        audio.current.src = `https://assets.breatheco.de/apis/sound/${songs[idx].url}`;\r\n        audio.current.play();\r\n        setCurrent(idx);\r\n        setPlaying(true);\r\n    }\r\n\r\n    function nextSong() {\r\n        if (current === songs.length - 1) {\r\n            audio.current.src = `https://assets.breatheco.de/apis/sound/${songs[0].url}`;\r\n            audio.current.play();\r\n            setPlaying(true);\r\n            setCurrent(0);\r\n        } else {\r\n            audio.current.src = `https://assets.breatheco.de/apis/sound/${songs[current + 1].url}`;\r\n            audio.current.play();\r\n            setPlaying(true);\r\n            setCurrent(current + 1);\r\n        }\r\n    }\r\n    \r\n    function prevSong() {\r\n        if (current === 0) {\r\n            audio.current.src = `https://assets.breatheco.de/apis/sound/${songs[songs.length - 1].url}`;\r\n            audio.current.play();\r\n            setPlaying(true);\r\n            setCurrent(songs.length - 1);\r\n        } else {\r\n            audio.current.src = `https://assets.breatheco.de/apis/sound/${songs[current - 1].url}`;\r\n            audio.current.play();\r\n            setPlaying(true);\r\n            setCurrent(current - 1);\r\n        }\r\n    }\r\n\r\n    function togglePlayPause() {\r\n        if (songs !== null) {\r\n            setPlaying(!playing);\r\n            playing ? audio.current.pause() : audio.current.play();\r\n        }\r\n    }\r\n\r\n    return { selectPlay, nextSong, prevSong, togglePlayPause }\r\n}","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport { Reproducer } from './Reproducer';\n\nReactDOM.render(\n    <Reproducer />\n    , document.getElementById('root')\n);"],"sourceRoot":""}