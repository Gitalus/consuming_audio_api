{"version":3,"sources":["Reproducer.js","helper.js","index.js"],"names":["Reproducer","useState","songs","current","setCurrent","playing","setPlaying","audio","useRef","useEffect","src","url","selectPlay","idx","play","nextSong","length","prevSong","togglePlayPause","pause","handleMusic","className","map","song","paused","onClick","name","id","ref","hidden","ReactDOM","render","document","getElementById"],"mappings":"8KAGaA,EAAa,WACtB,MAAgBC,mBAAS,CACrB,CAAE,GAAK,EAAG,SAAW,OAAQ,KAAO,eAAgB,IAAM,gCAC1D,CAAE,GAAK,EAAG,SAAW,OAAQ,KAAO,aAAc,IAAM,uCACxD,CAAE,GAAK,EAAG,SAAW,OAAQ,KAAO,kBAAmB,IAAM,qCAH1DC,EAAP,oBAKA,EAA8BD,mBAAS,GAAvC,mBAAOE,EAAP,KAAgBC,EAAhB,KACA,EAA8BH,oBAAS,GAAvC,mBAAOI,EAAP,KAAgBC,EAAhB,KAEMC,EAAQC,mBAEdC,qBAAU,WACNF,EAAMJ,QAAQO,IAAd,iDAA8DR,EAAMC,GAASQ,OAC9E,IAEH,MChBG,YAAkF,IAA3DT,EAA0D,EAA1DA,MAAOC,EAAmD,EAAnDA,QAASC,EAA0C,EAA1CA,WAAYC,EAA8B,EAA9BA,QAASC,EAAqB,EAArBA,WAAYC,EAAS,EAATA,MA+C3E,MAAO,CAAEK,WA7CT,SAAoBC,GACZV,IAAYU,GAAOR,IAGvBE,EAAMJ,QAAQO,IAAd,iDAA8DR,EAAMW,GAAKF,KACzEJ,EAAMJ,QAAQW,OACdV,EAAWS,GACXP,GAAW,KAsCMS,SAnCrB,WACQZ,IAAYD,EAAMc,OAAS,GAC3BT,EAAMJ,QAAQO,IAAd,iDAA8DR,EAAM,GAAGS,KACvEJ,EAAMJ,QAAQW,OACdR,GAAW,GACXF,EAAW,KAEXG,EAAMJ,QAAQO,IAAd,iDAA8DR,EAAMC,EAAU,GAAGQ,KACjFJ,EAAMJ,QAAQW,OACdR,GAAW,GACXF,EAAWD,EAAU,KAyBEc,SArB/B,WACoB,IAAZd,GACAI,EAAMJ,QAAQO,IAAd,iDAA8DR,EAAMA,EAAMc,OAAS,GAAGL,KACtFJ,EAAMJ,QAAQW,OACdR,GAAW,GACXF,EAAWF,EAAMc,OAAS,KAE1BT,EAAMJ,QAAQO,IAAd,iDAA8DR,EAAMC,EAAU,GAAGQ,KACjFJ,EAAMJ,QAAQW,OACdR,GAAW,GACXF,EAAWD,EAAU,KAWYe,gBAPzC,WACoB,OAAZf,IACAG,GAAYD,GACZA,EAAUE,EAAMJ,QAAQgB,QAAUZ,EAAMJ,QAAQW,UD3BIM,CAAY,CAAElB,QAAOC,UAASC,aAAYC,UAASC,aAAYC,UAAnHK,EAAR,EAAQA,WAAYG,EAApB,EAAoBA,SAAUE,EAA9B,EAA8BA,SAAUC,EAAxC,EAAwCA,gBAExC,OACI,sBAAKG,UAAU,YAAf,UACI,qBAAKA,UAAU,aAAf,SAEQnB,EAAMoB,KAAK,SAAEC,EAAMV,GAAU,IAAD,EACxB,OAAO,sBAAqBQ,UAAW,SAAWhB,GAAWF,IAAYU,EAAM,UAAY,MAAS,UAAAN,EAAMJ,eAAN,eAAeqB,SAAUrB,IAAYU,IAAQR,EAAW,UAAY,IAAKoB,QAAU,kBAAMb,EAAWC,IAAjM,UACK,sBAAMQ,UAAU,QAAhB,SAAyBR,EAAM,IAAWU,EAAKG,OADxCH,EAAKI,SAMpC,mCACI,mBAAGN,UAAU,gCAAgCI,QAAU,kBAAMR,OAEzDZ,EACC,mBAAGgB,UAAU,mCAAmCI,QAAU,kBAAMP,OAC9D,mBAAGG,UAAU,kCAAkCI,QAAU,kBAAMP,OAEtE,mBAAGG,UAAU,+BAA+BI,QAAU,kBAAMV,OAC5D,uBAAOa,IAAMrB,EAAQsB,QAAM,WElC3CC,IAASC,OACL,cAAC,EAAD,IACEC,SAASC,eAAe,U","file":"static/js/main.f8cfdadc.chunk.js","sourcesContent":["import React, { useState, useRef, useEffect } from 'react';\r\nimport { handleMusic } from './helper';\r\n\r\nexport const Reproducer = () => {\r\n    const [songs] = useState([\r\n        { \"id\":1, \"category\":\"game\", \"name\":\"Mario Castle\", \"url\":\"files/mario/songs/castle.mp3\" },\r\n        { \"id\":2, \"category\":\"game\", \"name\":\"Mario Star\", \"url\":\"files/mario/songs/hurry-starman.mp3\"},\r\n        { \"id\":3, \"category\":\"game\", \"name\":\"Mario Overworld\", \"url\":\"files/mario/songs/overworld.mp3\"}\r\n    ]);\r\n    const [current, setCurrent] = useState(0);\r\n    const [playing, setPlaying] = useState(false);\r\n\r\n    const audio = useRef();\r\n    \r\n    useEffect(() => {\r\n        audio.current.src = `https://assets.breatheco.de/apis/sound/${songs[current].url}`;\r\n    }, [])\r\n\r\n    const { selectPlay, nextSong, prevSong, togglePlayPause } = handleMusic({ songs, current, setCurrent, playing, setPlaying, audio });\r\n\r\n    return (\r\n        <div className=\"container\">\r\n            <div className=\"list-songs\">\r\n                {\r\n                    songs.map( ( song, idx ) => {\r\n                        return <div key = {song.id} className={\"songs\" + (playing && current === idx ? \" active\" : \"\") + ( (audio.current?.paused && current === idx && !playing) ? \" paused\" : \"\")} onClick={ () => selectPlay(idx)}>\r\n                                    <span className=\"nSong\">{idx + 1}</span>{ song.name }\r\n                                </div>\r\n                    })\r\n                }\r\n            </div>\r\n            <footer>\r\n                <i className=\"fas fa-step-backward controls\" onClick={ () => prevSong() }></i>\r\n                {\r\n                    playing ? \r\n                    (<i className=\"fas fa-pause-circle play-control\" onClick={ () => togglePlayPause() }></i>\r\n                    ):(<i className=\"fas fa-play-circle play-control\" onClick={ () => togglePlayPause() }></i>)\r\n                }\r\n                <i className=\"fas fa-step-forward controls\" onClick={ () => nextSong() }></i>\r\n                <audio ref={ audio } hidden></audio>\r\n            </footer>\r\n        </div>\r\n    )\r\n}\r\n","\r\n\r\nexport function handleMusic({ songs, current, setCurrent, playing, setPlaying, audio }) {\r\n\r\n    function selectPlay(idx) {\r\n        if (current === idx && playing) {\r\n            return;\r\n        }\r\n        audio.current.src = `https://assets.breatheco.de/apis/sound/${songs[idx].url}`;\r\n        audio.current.play();\r\n        setCurrent(idx);\r\n        setPlaying(true);\r\n    }\r\n\r\n    function nextSong() {\r\n        if (current === songs.length - 1) {\r\n            audio.current.src = `https://assets.breatheco.de/apis/sound/${songs[0].url}`;\r\n            audio.current.play();\r\n            setPlaying(true);\r\n            setCurrent(0);\r\n        } else {\r\n            audio.current.src = `https://assets.breatheco.de/apis/sound/${songs[current + 1].url}`;\r\n            audio.current.play();\r\n            setPlaying(true);\r\n            setCurrent(current + 1);\r\n        }\r\n    }\r\n    \r\n    function prevSong() {\r\n        if (current === 0) {\r\n            audio.current.src = `https://assets.breatheco.de/apis/sound/${songs[songs.length - 1].url}`;\r\n            audio.current.play();\r\n            setPlaying(true);\r\n            setCurrent(songs.length - 1);\r\n        } else {\r\n            audio.current.src = `https://assets.breatheco.de/apis/sound/${songs[current - 1].url}`;\r\n            audio.current.play();\r\n            setPlaying(true);\r\n            setCurrent(current - 1);\r\n        }\r\n    }\r\n\r\n    function togglePlayPause() {\r\n        if (current !== null) {\r\n            setPlaying(!playing);\r\n            playing ? audio.current.pause() : audio.current.play();\r\n        }\r\n    }\r\n\r\n    return { selectPlay, nextSong, prevSong, togglePlayPause }\r\n}","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport { Reproducer } from './Reproducer';\n\nReactDOM.render(\n    <Reproducer />\n    , document.getElementById('root')\n);"],"sourceRoot":""}